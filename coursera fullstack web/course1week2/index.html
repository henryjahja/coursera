<!DOCTYPE html>
<html>
	<head>
		<title>Color Guessing game</title>
	</head>
	<body onload="startNow()">
		<script type="text/javascript">
			var startNow = function() {
				var colors = ["blue", "gray", "yellow", "green"];

				colors = colors.sort();

				var chosenColor = colors[Math.floor(Math.random() * (colors.length - 0)) + 0];
				//console.log("I've choose " + chosenColor);

				var message = "I am thinking of one of these colors:\n\n";
				for (var i = 0 ; i < colors.length ; i++) {
					message += colors[i];
					if (i == (colors.length-2)){
						message += " and ";
					} else if (i != (colors.length-1)) {
						message += ", ";
					}
				}
				message+="\n\nWhat color am I thinking of?";

				var game = 1;
				var tries = 1;
				while (game) {
					var yu = parseInt(colors.indexOf(prompt(message).toLowerCase()));
					var mi = parseInt(colors.indexOf(chosenColor));
					if (yu === -1) {
						alert("Sorry, I don't recognize your color.\n\nPlease try again.");
					} else if (yu > mi) {
						alert("Sorry, your guess is not correct!\n\nHint: Your color is aplhabetically higher than mine.\n\nPlease try again.");
						tries++;
					} else if (yu < mi) {
						alert("Sorry, your guess is not correct!\n\nHint: Your color is aplhabetically lower than mine.\n\nPlease try again.");
						tries++;
					} else if (yu == mi) {
						game = 0;
					} else {
						alert("What happened here?");
						tries++;
					}

				}

				document.body.style.background = chosenColor;
				alert("Congratulations! You have guessed the color!\n\nIt took you " + tries + " guesses to finish the game!\n\nYou can see the colour in the background.");
			};
		</script>
	</body>
</html>